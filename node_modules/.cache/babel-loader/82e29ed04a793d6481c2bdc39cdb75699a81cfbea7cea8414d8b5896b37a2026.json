{"ast":null,"code":"var _jsxFileName = \"/Users/khatiazitanishvili/Downloads/we2.blatt11-main 4/src/components/LoginDialog.tsx\",\n  _s = $RefreshSig$();\nimport { Button, Form } from 'react-bootstrap';\nimport { Modal } from 'react-bootstrap';\nimport { login, getUserIdFromJWT, logout } from \"../backend/boardapi\";\nimport React from 'react';\nimport { ErrorBoundary, useErrorHandler } from 'react-error-boundary';\nimport ErrorFallback from './ErrorFallback';\nimport { useUserIDContext } from './UserIdContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginDialog(_ref) {\n  _s();\n  let {\n    show,\n    onHide\n  } = _ref;\n  const {\n    userID,\n    setUserID\n  } = useUserIDContext();\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const handleError = useErrorHandler();\n  async function handleSubmit() {\n    const c = await login(email, password);\n    const user = getUserIdFromJWT();\n    setUserID(user);\n    if (c && user !== undefined) {\n      onHide();\n    }\n  }\n  function onCancel() {\n    logout();\n    onHide();\n  }\n  async function load() {\n    try {} catch (err) {\n      handleError(err);\n    }\n  }\n  React.useEffect(() => {\n    load();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    backdrop: \"static\",\n    show: show,\n    centered: true,\n    onHide: onHide,\n    children: /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n      FallbackComponent: ErrorFallback,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"formEmail\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"E-Mail\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"email\",\n              placeholder: \"Example@email.de\",\n              onChange: e => setEmail(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"formPassword\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              placeholder: \"Password\",\n              onChange: e => setPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: onCancel,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleSubmit,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 13\n  }, this);\n}\n_s(LoginDialog, \"KT3Tjd2ttCTqv3yYEgbkhY56Fco=\", false, function () {\n  return [useUserIDContext, useErrorHandler];\n});\n_c = LoginDialog;\nvar _c;\n$RefreshReg$(_c, \"LoginDialog\");","map":{"version":3,"names":["Button","Form","Modal","login","getUserIdFromJWT","logout","React","ErrorBoundary","useErrorHandler","ErrorFallback","useUserIDContext","LoginDialog","show","onHide","userID","setUserID","email","setEmail","useState","password","setPassword","handleError","handleSubmit","c","user","undefined","onCancel","load","err","useEffect","e","target","value"],"sources":["/Users/khatiazitanishvili/Downloads/we2.blatt11-main 4/src/components/LoginDialog.tsx"],"sourcesContent":["import { Button, Form } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { Modal } from 'react-bootstrap';\nimport { login, getUserIdFromJWT, logout } from \"../backend/boardapi\";\nimport React from 'react';\nimport { ErrorBoundary, useErrorHandler } from 'react-error-boundary';\nimport ErrorFallback from './ErrorFallback';\nimport { useUserIDContext } from './UserIdContext';\n\ntype LoginDialogProps = {\n    show: boolean\n    onHide: () => void\n}\n\nexport default function LoginDialog({ show, onHide }: LoginDialogProps) {\n    const { userID, setUserID} = useUserIDContext();\n    const [email, setEmail] = React.useState(\"\");\n    const [password, setPassword] = React.useState(\"\");\n    const handleError = useErrorHandler();\n    \n    async function handleSubmit() {\n        const c = await login(email, password);\n        const user = getUserIdFromJWT();\n        setUserID(user);\n        if (c && user !== undefined) {\n            onHide();\n        }\n    }\n\n    function onCancel() {\n        logout();\n        onHide();\n    }\n\n    async function load() {\n        try {\n            \n        } catch (err) {\n            handleError(err);\n        }\n    }\n\n    React.useEffect(() => { load(); }, []);\n\n    return (<Modal backdrop=\"static\" show={show} centered onHide={onHide}>\n            <ErrorBoundary FallbackComponent={ErrorFallback}>\n                <Modal.Header closeButton><Modal.Title>Login</Modal.Title></Modal.Header>\n\n                <Modal.Body>\n                    <Form>\n                        <Form.Group controlId='formEmail'>\n                            <Form.Label>E-Mail</Form.Label>\n                            <Form.Control type='email' placeholder='Example@email.de' onChange={e => setEmail(e.target.value)} />\n                        </Form.Group>\n                        <Form.Group controlId='formPassword'>\n                            <Form.Label>Password</Form.Label>\n                            <Form.Control type='password' placeholder='Password' onChange={e => setPassword(e.target.value)} />\n                        </Form.Group>\n                    </Form>\n                </Modal.Body>\n\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={onCancel}>Cancel</Button>\n                    <Button variant=\"primary\" onClick={handleSubmit}>Login</Button>\n                </Modal.Footer>\n            </ErrorBoundary>\n    </Modal>);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}